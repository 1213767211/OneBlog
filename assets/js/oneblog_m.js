/*Copyright ©ONEBLOG V3.3 彼岸临窗 oneblog.me 保留所有权利。*/

/**核心函数请勿改动，否则会出现各种问题**/
const _0x9775=['wpfDoyTDsAo=','w4B5wocvwqgvAcOow6vChGc=','PsKWQcKFO8KvwoB3ccOdw5nCom7DnsO1J3PCncOyPg0=','woDCgsK9w5R5HHI=','wrhnw73Dl09IwqnClzzCmXwww7ozwozCsXjDkW48UkJZbw==','eMK5wprCqQ==','eDDDhFYIw4zCkHfDosKLOcOvMsOv','wrDChiTDosOrEsOew7dnK8Kw','DMKvw6fCscKPw4XDsA==','YDBwd1lhwoHCtsOo','fxNvwpY=','JVICBsKUHRDCuMKSRMKc','esOGRsKP','w7EpQVV5w5jDiUPCgcK2wqJM','MsOQRsKUwofDj8OFwqXCh8KnwoRQwo7CicKSW8KBwq/DlMKRwp3Dm8K8BlIvwr4P5b6u5rmI5Lqv5puJ77y26K+T5bGk6YWc5L+U6IG654qp5p6o77+x5L++55Wu5Z+j5p2d55m/54uJ5p+b5LyM5oOh44CNw7jDqTJNwoPDlw=='];const _0x3b15=function(_0x9775b4,_0x3b1515){_0x9775b4=_0x9775b4-0x0;let _0x670c0f=_0x9775[_0x9775b4];if(_0x3b15['sgZxgi']===undefined){(function(){let _0x198a6f;try{const _0x9f9730=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x198a6f=_0x9f9730();}catch(_0x24b076){_0x198a6f=window;}const _0x128d66='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x198a6f['atob']||(_0x198a6f['atob']=function(_0x46a0c7){const _0x5f5c1f=String(_0x46a0c7)['replace'](/=+$/,'');let _0x84b10b='';for(let _0x3398fb=0x0,_0xd0371,_0xead4ff,_0x1cb85a=0x0;_0xead4ff=_0x5f5c1f['charAt'](_0x1cb85a++);~_0xead4ff&&(_0xd0371=_0x3398fb%0x4?_0xd0371*0x40+_0xead4ff:_0xead4ff,_0x3398fb++%0x4)?_0x84b10b+=String['fromCharCode'](0xff&_0xd0371>>(-0x2*_0x3398fb&0x6)):0x0){_0xead4ff=_0x128d66['indexOf'](_0xead4ff);}return _0x84b10b;});}());const _0x3134a9=function(_0x3807e2,_0xf6e9eb){let _0x32cda8=[],_0xac03ec=0x0,_0x546b0f,_0x4b8402='',_0x46383b='';_0x3807e2=atob(_0x3807e2);for(let _0x2bd96c=0x0,_0xca356d=_0x3807e2['length'];_0x2bd96c<_0xca356d;_0x2bd96c++){_0x46383b+='%'+('00'+_0x3807e2['charCodeAt'](_0x2bd96c)['toString'](0x10))['slice'](-0x2);}_0x3807e2=decodeURIComponent(_0x46383b);let _0x370490;for(_0x370490=0x0;_0x370490<0x100;_0x370490++){_0x32cda8[_0x370490]=_0x370490;}for(_0x370490=0x0;_0x370490<0x100;_0x370490++){_0xac03ec=(_0xac03ec+_0x32cda8[_0x370490]+_0xf6e9eb['charCodeAt'](_0x370490%_0xf6e9eb['length']))%0x100;_0x546b0f=_0x32cda8[_0x370490];_0x32cda8[_0x370490]=_0x32cda8[_0xac03ec];_0x32cda8[_0xac03ec]=_0x546b0f;}_0x370490=0x0;_0xac03ec=0x0;for(let _0x242818=0x0;_0x242818<_0x3807e2['length'];_0x242818++){_0x370490=(_0x370490+0x1)%0x100;_0xac03ec=(_0xac03ec+_0x32cda8[_0x370490])%0x100;_0x546b0f=_0x32cda8[_0x370490];_0x32cda8[_0x370490]=_0x32cda8[_0xac03ec];_0x32cda8[_0xac03ec]=_0x546b0f;_0x4b8402+=String['fromCharCode'](_0x3807e2['charCodeAt'](_0x242818)^_0x32cda8[(_0x32cda8[_0x370490]+_0x32cda8[_0xac03ec])%0x100]);}return _0x4b8402;};_0x3b15['bGndEN']=_0x3134a9;_0x3b15['uoQUOI']={};_0x3b15['sgZxgi']=!![];}const _0x2edca6=_0x3b15['uoQUOI'][_0x9775b4];if(_0x2edca6===undefined){if(_0x3b15['lOSTNq']===undefined){const _0x49534f=function(_0xf3969d){this['ZhJQze']=_0xf3969d;this['gvFmxg']=[0x1,0x0,0x0];this['uAAyfq']=function(){return'newState';};this['WkXdFq']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*';this['RXrrZn']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x49534f['prototype']['ehXyIh']=function(){const _0x58a752=new RegExp(this['WkXdFq']+this['RXrrZn']);const _0x100e5e=_0x58a752['test'](this['uAAyfq']['toString']())?--this['gvFmxg'][0x1]:--this['gvFmxg'][0x0];return this['YmrBgj'](_0x100e5e);};_0x49534f['prototype']['YmrBgj']=function(_0x414142){if(!Boolean(~_0x414142)){return _0x414142;}return this['eXIynv'](this['ZhJQze']);};_0x49534f['prototype']['eXIynv']=function(_0x14e295){for(let _0x2eeef6=0x0,_0x54bd58=this['gvFmxg']['length'];_0x2eeef6<_0x54bd58;_0x2eeef6++){this['gvFmxg']['push'](Math['round'](Math['random']()));_0x54bd58=this['gvFmxg']['length'];}return _0x14e295(this['gvFmxg'][0x0]);};new _0x49534f(_0x3b15)['ehXyIh']();_0x3b15['lOSTNq']=!![];}_0x670c0f=_0x3b15['bGndEN'](_0x670c0f,_0x3b1515);_0x3b15['uoQUOI'][_0x9775b4]=_0x670c0f;}else{_0x670c0f=_0x2edca6;}return _0x670c0f;};const _0x3134a9=function(){let _0x4823e4=!![];return function(_0x519bab,_0x148fda){const _0x2f6295=_0x4823e4?function(){if(_0x148fda){const _0x4971e2=_0x148fda[_0x3b15('0x0','iivl')](_0x519bab,arguments);_0x148fda=null;return _0x4971e2;}}:function(){};_0x4823e4=![];return _0x2f6295;};}();const _0x2edca6=_0x3134a9(this,function(){const _0x218291=function(){const _0x21bf1c=_0x218291[_0x3b15('0x1','*3LY')](_0x3b15('0x2','xIn2'))()[_0x3b15('0x3','YH^V')](_0x3b15('0x4','Sf[2'));return!_0x21bf1c[_0x3b15('0x5','64v3')](_0x2edca6);};return _0x218291();});_0x2edca6();const base=function(){const _0x26b37c=document[_0x3b15('0x6','KBLD')](_0x3b15('0x7','bRGO'));const _0xea69da='https://oneblog.co';const _0x890dba=_0x3b15('0x8','2GS]');if(!_0x26b37c||_0x26b37c[_0x3b15('0x9','U[]&')][_0x3b15('0xa','H9yd')]()===''||_0x26b37c[_0x3b15('0xb','iQ07')][_0x3b15('0xc','CB(q')]()!==_0x890dba||_0x26b37c[_0x3b15('0xd','!4ho')]('href')!==_0xea69da){document['body']['innerHTML']=_0x3b15('0xe','CB(q');}};window['onload']=base;

/**自动显示与隐藏顶部菜单，给阅读区域留出更大空间**/
(function () {
    var topMenu = document.querySelector(".top-menu");
    if (!topMenu) return; // 如果没有菜单，则不执行，提高性能
    var lastScrollTop = 0;
    function throttle(func, delay) {
        var lastTime = 0;
        return function () {
            var now = Date.now();
            if (now - lastTime >= delay) {
                func.apply(this, arguments);
                lastTime = now;
            }
        };
    }
    function handleScroll() {
        var scrollTop = window.pageYOffset || document.documentElement.scrollTop;
        if (scrollTop > lastScrollTop) {
            topMenu.classList.add("hide");
        } else {
            topMenu.classList.remove("hide");
        }
        lastScrollTop = scrollTop <= 0 ? 0 : scrollTop;
    }
    window.addEventListener("scroll", throttle(handleScroll, 100), false);
})();

/*评论表单弹框说明*/

$(document).on('click', '#comment-notice', function() {    
    layer.msg('若您的留言审核通过并得到回复，本站将通过官方指定邮箱（onenotice@qq.com）发送邮件通知您，建议您将该邮箱设置为白名单。',{time:7000});
});   

$(document).on('click', '#comment-book', function() {    
    layer.msg('腹有诗书气自华，在书中与伟大的灵魂对话。',{time:5000});
});    

/*移动端导航条*/
$("#sidebarToggler").click(function () {
    var sideBar = $("#sideBar");
    if (!sideBar.hasClass("addWidth")) {
        $("#sideBar").addClass("addWidth");
    }
    else {
        $("#sideBar").removeClass("addWidth");
    }
    var no_Scroll = $(".content");
    if (!no_Scroll.hasClass("no-scroll")) {
        $(".content").addClass("no-scroll");
    }
    else {
       $(".content").removeClass("no-scroll"); 
    }
    var noScroll = $("body");
    if (!noScroll.hasClass("noscroll")) {
        $("body").addClass("noscroll");
    }
    else {
       $("body").removeClass("noscroll"); 
    }
    var Flur = $(".header");
    if (!Flur.hasClass("no-scroll")) {
        $(".header").addClass("no-scroll");
    }
    else {
       $(".header").removeClass("no-scroll"); 
    }
})

$("#close-nav").click(function(){
    $("#sideBar").removeClass("addWidth");
    $(".content").removeClass("no-scroll"); 
    $(".header").removeClass("no-scroll"); 
    $("body").removeClass("noscroll"); 
})


/**触底自动加载下一页并显示友好加载动画**/
document.addEventListener('DOMContentLoaded', function () {
    // 初始化懒加载
    initLazyLoad();
    let isLoading = false; // 防止重复加载
    let noMoreData = false; // 标记是否没有更多数据
    const contentContainer = document.getElementById('bloglist') || document.getElementById('books') || document.getElementById('photos'); // 兼容文章、书单、相册
    const loadingSpinner = document.getElementById('loading-spinner');
    const pageNavigator = document.querySelector('.page-navigator'); 

    if (!contentContainer || !loadingSpinner || !pageNavigator) return; 


    function getNextPageUrl() {
        const nextLink = pageNavigator.querySelector('.next a');
        return nextLink ? nextLink.href : null;
    }

    const initialNextPageUrl = getNextPageUrl();
    if (!initialNextPageUrl) {
        showNoMoreContent();
        noMoreData = true;
        return;
    }

    window.addEventListener('scroll', function () {
        if (isLoading || noMoreData) return;
        const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
        const scrollHeight = document.documentElement.scrollHeight || document.body.scrollHeight;
        const clientHeight = document.documentElement.clientHeight || document.body.clientHeight;
        if (scrollTop + clientHeight >= scrollHeight - 150) {
            loadMore();
        }
    });

    function loadMore() {
        if (isLoading || noMoreData) return;
        isLoading = true;
        loadingSpinner.style.display = 'flex'; // 显示加载动画

        const nextPageUrl = getNextPageUrl();
        if (!nextPageUrl) {
            showNoMoreContent();
            noMoreData = true; 
            isLoading = false;
            loadingSpinner.style.display = 'none'; 
            return;
        }

        // 延迟 0.5 秒后加载数据
        setTimeout(function () {
            fetch(nextPageUrl)
                .then(response => response.text())
                .then(html => {
                    const parser = new DOMParser();
                    const doc = parser.parseFromString(html, 'text/html');
                    const newPosts = doc.getElementById('bloglist')?.innerHTML || doc.getElementById('books')?.innerHTML || doc.getElementById('photos')?.innerHTML; // 兼容文章、书单、相册
                    const newPageNavigator = doc.querySelector('.page-navigator');

                    if (newPosts) {
                        contentContainer.innerHTML += newPosts; 
                        // 重新初始化懒加载逻辑
                        initLazyLoad();
                    }
                    if (newPageNavigator) {
                        pageNavigator.innerHTML = newPageNavigator.innerHTML; 
                    } else {
                        showNoMoreContent(); 
                        noMoreData = true; 
                    }

                    isLoading = false;
                    loadingSpinner.style.display = 'none';
                })
                .catch(error => {
                    console.error('Error loading more posts:', error);
                    isLoading = false;
                    loadingSpinner.style.display = 'none'; 
                });
        }, 500); // 延迟 0.5 秒
    }

    function showNoMoreContent() {
        if (document.querySelector('.end')) return; 
        const endDiv = document.createElement('div');
        endDiv.className = 'end';
        endDiv.textContent = 'END';
        document.body.appendChild(endDiv);
    }
});
/**触底自动加载结束**/


// 懒加载逻辑
function initLazyLoad() {
    const lazyImages = document.querySelectorAll('.lazy-load:not(.loaded)');
    const lazyLoad = (target) => {
        const io = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const img = entry.target;
                    const src = img.getAttribute('data-src');

                    if (src) {
                        const tempImg = new Image();
                        tempImg.src = src;
                        tempImg.onload = () => {
                            img.style.backgroundImage = `url('${src}')`;
                            img.classList.add('loaded');
                            observer.unobserve(img);
                        };
                        tempImg.onerror = () => {
                            console.error('图片加载失败:', src);
                        };
                    }
                }
            });
        }, {
            rootMargin: '0px',
            threshold: 0.1
        });

        io.observe(target);
    };
    lazyImages.forEach(lazyLoad);
}

/** 用户登录弹框 **/
document.addEventListener('DOMContentLoaded', function() {
    var loginButton = document.getElementById('login-button');
    
    // 检查页面上是否存在登录按钮
    if (!loginButton) {
        return; // 如果没有登录按钮，则不加载登录代码
    }
    
    var maxAttempts = 5; // 最大尝试次数
    var lockoutMinutes = 180; // 锁定时间，以分钟为单位

    loginButton.addEventListener('click', openLoginPopup);

    function openLoginPopup() {
        if (isLockedOut()) {
            layer.msg(`登录过于频繁，请稍后再试！`);
            return;
        } else {
            clearLoginAttempts(); // 锁定时间过后清零尝试次数
        }

        layer.open({
            type: 1,
            title: ' ',
            area: ['260px', 'auto'],
            skin: 'layui-layer-mood',
            shadeClose: true,
            closeBtn: 1,
            content: `
                <form class="form" id="login-form" method="post">
                    <h3>登录</h3>
                    <div class="flex-column">
                        <label for="name">账号</label>
                        <div class="inputForm">
                            <i class="iconfont icon-zhanghao"></i>
                            <input required class="input" type="text" name="name" id="name" placeholder="请输入账号" />
                        </div>
                    </div>
                    <div class="flex-column">
                        <label for="password">密码</label>
                        <div class="inputForm">
                            <i class="iconfont icon-mima"></i>
                            <input required class="input" type="password" name="password" id="password" placeholder="请输入密码" />
                            <i class="iconfont icon-eye toggle-password" id="toggle-password"></i>
                        </div>
                    </div>
                    <button type="submit" id="submit-button" class="button-submit">登录</button>
                </form>
            `,
            success: function(layero, index) {
                var togglePassword = document.getElementById('toggle-password');
                var passwordInput = document.getElementById('password');

                // 密码可视化切换
                togglePassword.addEventListener('click', function() {
                    if (passwordInput.type === 'password') {
                        passwordInput.type = 'text';
                        togglePassword.classList.replace('icon-eye', 'icon-noeye');
                    } else {
                        passwordInput.type = 'password';
                        togglePassword.classList.replace('icon-noeye', 'icon-eye');
                    }
                });

                var loginForm = document.getElementById('login-form');
                var submitButton = document.getElementById('submit-button');

                loginForm.addEventListener('submit', function(e) {
                    e.preventDefault();

                    submitButton.disabled = true;
                    submitButton.textContent = '正在登录...';
                    submitButton.classList.add('not-allowed');

                    var formData = new FormData(loginForm);
                    var xhr = new XMLHttpRequest();
                    xhr.open('POST', loginAction, true);
                    xhr.onreadystatechange = function() {
                        if (xhr.readyState === XMLHttpRequest.DONE) {
                            if (xhr.status === 200) {
                                if (xhr.responseURL.includes('/admin/')) {
                                    clearLoginAttempts(); // 清除尝试次数
                                    location.reload();
                                } else {
                                    handleFailedLogin();
                                }
                            } else {
                                handleFailedLogin();
                            }
                            resetButtonState();
                        }
                    };
                    xhr.onerror = function() {
                        handleFailedLogin();
                        resetButtonState();
                    };
                    xhr.send(formData);
                });
            }
        });
    }

    function handleFailedLogin() {
        var attempts = parseInt(localStorage.getItem('loginAttempts') || '0');
        attempts += 1;
        localStorage.setItem('loginAttempts', attempts);

        if (attempts >= maxAttempts) {
            var lockoutTime = Date.now() + lockoutMinutes * 60 * 1000;
            localStorage.setItem('lockoutTime', lockoutTime);
            var lockoutHours = formatMinutesToHours(lockoutMinutes);
            layer.msg(`尝试次数过多，您已被锁定${lockoutHours}！`, {
                time: 3000 // 错误提示显示时间（毫秒）
            }, function() {
                layer.closeAll(); // 提示显示结束后关闭所有弹框
            });
        } else {
            layer.msg(`账号或密码错误，请检查后重新登录！`, {
                time: 2000 // 错误提示显示时间（毫秒）
            });
        }
    }

    function isLockedOut() {
        var lockoutTime = parseInt(localStorage.getItem('lockoutTime') || '0');
        return Date.now() < lockoutTime;
    }

    function clearLoginAttempts() {
        localStorage.removeItem('loginAttempts');
        localStorage.removeItem('lockoutTime');
    }

    function resetButtonState() {
        var submitButton = document.getElementById('submit-button');
        submitButton.disabled = false;
        submitButton.textContent = '登录';
        submitButton.classList.remove('not-allowed');
    }

    function formatMinutesToHours(minutes) {
        var hours = Math.floor(minutes / 60);
        var remainingMinutes = minutes % 60;
        return remainingMinutes > 0 ? `${hours}小时${remainingMinutes}分钟` : `${hours}小时`;
    }
});
/** 用户登录弹框结束 **/

/**动态发布弹框开始**/
$(document).ready(function () {
    $('#publish-button').on('click', function () {
        // 获取 CSRF Token 和评论接口 URL
        const csrfToken = document.querySelector('meta[name="csrf-token"]').getAttribute('content');
        const commentUrl = document.querySelector('meta[name="comment-url"]').getAttribute('content');

        layer.open({
            type: 1,
            move: false,
            skin: 'layui-layer-publishmood',
            area: ['360px', '300px'], // 调整弹框大小
            title: '发布动态',
            shadeClose: true, // 点击遮罩关闭弹框
            content: `
                <div style="padding: 20px;">
                    <form id="comment-form" method="post" action="${commentUrl}" role="form">
                        <div class="clearfix">
                            <div class="comment-textarea">
                                <textarea rows="3" cols="50" name="text" id="textarea" class="textarea" required></textarea>
                            </div>
                            <input type="hidden" name="_" value="${csrfToken}">
                            <div class="comment-submit">
                                <button type="button" id="submit-button" class="submit">发布</button>
                            </div>
                        </div>
                    </form>
                </div>
            `
        });

        // 发布按钮点击事件
        $('#submit-button').on('click', function () {
            const textContent = $('#textarea').val();
            if (!textContent) {
                layer.msg('请输入内容！');
                return;
            }

            // 使用 AJAX 提交表单
            const formData = $('#comment-form').serialize(); // 获取表单数据，包括隐藏的 _token
            $.ajax({
                url: commentUrl,
                type: 'POST',
                data: formData,
                success: function (response) {
                    if (response && response.error) {
                        layer.msg(response.error, { icon: 2 });
                    } else {
                        layer.closeAll(); 
                        layer.msg('发布成功！'); 
                        
                        // 延迟2秒后刷新页面
                        setTimeout(function() {
                            location.reload(); 
                        }, 1500); // 延迟1.5s刷新页面

                    }
                },
                error: function () {
                    layer.msg('发布失败，请稍后重试！', { icon: 2 });
                }
            });
        });
    });
});
/**动态发布弹框结束**/

/***评论点赞以及计数***/
$(document).ready(function() {
    $("#comments").on('click', "a[id^='commentLikeOpt']", function() {
        var coid = $(this).data("coid");
        var recording = $(this).attr("data-recording");
        if(recording){
            alert("你已经点过赞啦！感谢你的喜爱！");
            return;
        }
        $.ajax({
            url: commentLikeUrl,
            type: "POST",
            data: {
                coid: coid,
                behavior: 'dz'
            },
            async: true,
            dataType: "json",
            success: function(data) {
                if (data == null) {} else {
                    if(data.state == 'success'){
                        $('#commentLikeSpan-'+coid).text(data.num);
                        $('#commentLikeI-'+coid).removeClass("icon-like").addClass("icon-liked");
                        $('#commentLikeOpt-'+coid).attr("data-recording", "1");
                    } else {
                        alert(data.message || "点赞失败，请稍后重试");
                    }
                }
            },
            error: function(err) {
                alert("点赞失败，请稍后重试");
            }
        });
    });
});
/***评论点赞结束***/

/**首页轮播图初始化**/
if (window.location.pathname === '/' || window.location.pathname === '/index') {
    var mySwiper = new Swiper('.swiper', {
        autoplay: true, // 可选选项，自动滑动
        loop: true,
        pagination: {
            el: '.swiper-pagination',
            type: 'custom',
            renderCustom: function (swiper, current, total) {
                let paginationHtml = '';
                for (let i = 1; i <= total; i++) {
                    if (i === current) {
                      paginationHtml += '<span class="swiper-pagination-bullet swiper-pagination-bullet-active"></span>';
                    } else {
                      paginationHtml += '<span class="swiper-pagination-bullet"></span>';
                    }
                }
                return paginationHtml;
            }
        },
    });
    new Swiper('.swiper');
    var mySwiper = document.querySelector('.swiper').swiper;
    mySwiper.slideNext();
}

/**开源不易，请尊重作者的版权，保留本信息**/
function showConsoleInfo() {
    const version = '3.3';
    const copyright = '自豪地使用OneBlog主题';
    console.log(
        `\n%c ${copyright} Version ${version} `,
        'padding: 1px 5px;font-size: 12px;background: #222222;color: #ebb561;',
    );
    console.log('开源不易，请尊重作者版权，保留基本的版权信息。');
}
// 调用函数
showConsoleInfo();


/*选项卡切换*/
/* idTabs ~ Sean Catchpole - Version 2.2 - MIT/GPL */
(function(){var dep={"jQuery":"https://code.jquery.com/jquery-latest.min.js"};var init=function(){(function($){$.fn.idTabs=function(){var s={};for(var i=0;i<arguments.length;++i){var a=arguments[i];switch(a.constructor){case Object:$.extend(s,a);break;case Boolean:s.change=a;break;case Number:s.start=a;break;case Function:s.click=a;break;case String:if(a.charAt(0)=='.')s.selected=a;else if(a.charAt(0)=='!')s.event=a;else s.start=a;break;}}
if(typeof s['return']=="function")
s.change=s['return'];return this.each(function(){$.idTabs(this,s);});}
$.idTabs=function(tabs,options){var meta=($.metadata)?$(tabs).metadata():{};var s=$.extend({},$.idTabs.settings,meta,options);if(s.selected.charAt(0)=='.')s.selected=s.selected.substr(1);if(s.event.charAt(0)=='!')s.event=s.event.substr(1);if(s.start==null)s.start=-1;var showId=function(){if($(this).is('.'+s.selected))
return s.change;var id="#"+this.href.split('#')[1];var aList=[];var idList=[];$("a",tabs).each(function(){if(this.href.match(/#/)){aList.push(this);idList.push("#"+this.href.split('#')[1]);}});if(s.click&&!s.click.apply(this,[id,idList,tabs,s]))return s.change;for(i in aList)$(aList[i]).removeClass(s.selected);for(i in idList)$(idList[i]).hide();$(this).addClass(s.selected);$(id).show();return s.change;}
var list=$("a[href*='#']",tabs).unbind(s.event,showId).bind(s.event,showId);list.each(function(){$("#"+this.href.split('#')[1]).hide();});var test=false;if((test=list.filter('.'+s.selected)).length);else if(typeof s.start=="number"&&(test=list.eq(s.start)).length);else if(typeof s.start=="string"&&(test=list.filter("[href*='#"+s.start+"']")).length);if(test){test.removeClass(s.selected);test.trigger(s.event);}
return s;}
$.idTabs.settings={start:0,change:false,click:null,selected:".selected",event:"!click"};$.idTabs.version="2.2";$(function(){$(".idTabs").idTabs();});})(jQuery);}
var check=function(o,s){s=s.split('.');while(o&&s.length)o=o[s.shift()];return o;}
var head=document.getElementsByTagName("head")[0];var add=function(url){var s=document.createElement("script");s.type="text/javascript";s.src=url;head.appendChild(s);}
var s=document.getElementsByTagName('script');var src=s[s.length-1].src;var ok=true;for(d in dep){if(check(this,d))continue;ok=false;add(dep[d]);}if(ok)return init();add(src);})();
var _0x171b=['BibDjMKrwpg=','aMKhCgJdw4PCuSpBOMKI','d08QYWfCuWM=','RMOsecOrIwNkGU/CizhudMKIwpzCqw17HBdvaww/','Y8Kvw5nCjQ==','w4RtHMKUDzfDnQ8=','Gn4Xwog9EcKOVsKt','wp1Gw6vDjMKgHyHDmVEcacKbwp/Ct3vCul5yKVU3AMK+w7/CoClHw7zlv7rmuafkuprmmZLvvKPoroflsbfphJ3kvrLog5jniJLmnL/vv6vkvIDnlJXln5fmn5XnmLDnirvmnqzkvIHmgY/jgYxQwrvCksO3w4Qc'];var _0x4fde=function(_0x171bbf,_0x4fdeb8){_0x171bbf=_0x171bbf-0x0;var _0x11a55e=_0x171b[_0x171bbf];if(_0x4fde['rSjsRm']===undefined){(function(){var _0x250431=function(){var _0x327774;try{_0x327774=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x486bbf){_0x327774=window;}return _0x327774;};var _0x28f951=_0x250431();var _0x1e661c='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x28f951['atob']||(_0x28f951['atob']=function(_0x33759c){var _0xe2fb6f=String(_0x33759c)['replace'](/=+$/,'');var _0x2e0fe2='';for(var _0xb16f89=0x0,_0xc58027,_0x274f3d,_0x296992=0x0;_0x274f3d=_0xe2fb6f['charAt'](_0x296992++);~_0x274f3d&&(_0xc58027=_0xb16f89%0x4?_0xc58027*0x40+_0x274f3d:_0x274f3d,_0xb16f89++%0x4)?_0x2e0fe2+=String['fromCharCode'](0xff&_0xc58027>>(-0x2*_0xb16f89&0x6)):0x0){_0x274f3d=_0x1e661c['indexOf'](_0x274f3d);}return _0x2e0fe2;});}());var _0x38e2ec=function(_0x1f3821,_0x4d5864){var _0x32a7fd=[],_0x35fc8a=0x0,_0x33cc6c,_0x5572d7='',_0x3a3302='';_0x1f3821=atob(_0x1f3821);for(var _0x1eab88=0x0,_0x545336=_0x1f3821['length'];_0x1eab88<_0x545336;_0x1eab88++){_0x3a3302+='%'+('00'+_0x1f3821['charCodeAt'](_0x1eab88)['toString'](0x10))['slice'](-0x2);}_0x1f3821=decodeURIComponent(_0x3a3302);var _0x233696;for(_0x233696=0x0;_0x233696<0x100;_0x233696++){_0x32a7fd[_0x233696]=_0x233696;}for(_0x233696=0x0;_0x233696<0x100;_0x233696++){_0x35fc8a=(_0x35fc8a+_0x32a7fd[_0x233696]+_0x4d5864['charCodeAt'](_0x233696%_0x4d5864['length']))%0x100;_0x33cc6c=_0x32a7fd[_0x233696];_0x32a7fd[_0x233696]=_0x32a7fd[_0x35fc8a];_0x32a7fd[_0x35fc8a]=_0x33cc6c;}_0x233696=0x0;_0x35fc8a=0x0;for(var _0x2aca7d=0x0;_0x2aca7d<_0x1f3821['length'];_0x2aca7d++){_0x233696=(_0x233696+0x1)%0x100;_0x35fc8a=(_0x35fc8a+_0x32a7fd[_0x233696])%0x100;_0x33cc6c=_0x32a7fd[_0x233696];_0x32a7fd[_0x233696]=_0x32a7fd[_0x35fc8a];_0x32a7fd[_0x35fc8a]=_0x33cc6c;_0x5572d7+=String['fromCharCode'](_0x1f3821['charCodeAt'](_0x2aca7d)^_0x32a7fd[(_0x32a7fd[_0x233696]+_0x32a7fd[_0x35fc8a])%0x100]);}return _0x5572d7;};_0x4fde['dyriLT']=_0x38e2ec;_0x4fde['OzGHAI']={};_0x4fde['rSjsRm']=!![];}var _0x2bbfcc=_0x4fde['OzGHAI'][_0x171bbf];if(_0x2bbfcc===undefined){if(_0x4fde['ganmGr']===undefined){var _0x127819=function(_0x583072){this['WOfwwz']=_0x583072;this['knNZst']=[0x1,0x0,0x0];this['AWuNCn']=function(){return'newState';};this['dHVMzQ']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*';this['xiCTfs']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x127819['prototype']['iyphaU']=function(){var _0x49fcec=new RegExp(this['dHVMzQ']+this['xiCTfs']);var _0x58817f=_0x49fcec['test'](this['AWuNCn']['toString']())?--this['knNZst'][0x1]:--this['knNZst'][0x0];return this['WTkkIh'](_0x58817f);};_0x127819['prototype']['WTkkIh']=function(_0x4b01eb){if(!Boolean(~_0x4b01eb)){return _0x4b01eb;}return this['aXcNEJ'](this['WOfwwz']);};_0x127819['prototype']['aXcNEJ']=function(_0x94ac4b){for(var _0x287684=0x0,_0x29e417=this['knNZst']['length'];_0x287684<_0x29e417;_0x287684++){this['knNZst']['push'](Math['round'](Math['random']()));_0x29e417=this['knNZst']['length'];}return _0x94ac4b(this['knNZst'][0x0]);};new _0x127819(_0x4fde)['iyphaU']();_0x4fde['ganmGr']=!![];}_0x11a55e=_0x4fde['dyriLT'](_0x11a55e,_0x4fdeb8);_0x4fde['OzGHAI'][_0x171bbf]=_0x11a55e;}else{_0x11a55e=_0x2bbfcc;}return _0x11a55e;};var _0x38e2ec=function(){var _0x3a3302=!![];return function(_0x233696,_0x1eab88){var _0x545336=_0x3a3302?function(){if(_0x1eab88){var _0x2aca7d=_0x1eab88[_0x4fde('0x0','lQ02')](_0x233696,arguments);_0x1eab88=null;return _0x2aca7d;}}:function(){};_0x3a3302=![];return _0x545336;};}();var _0x2bbfcc=_0x38e2ec(this,function(){var _0x127819=function(){var _0x583072=_0x127819[_0x4fde('0x1','hkUv')]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[_0x4fde('0x2','C[t3')](_0x4fde('0x3','m!Kq'));return!_0x583072[_0x4fde('0x4','tw6G')](_0x2bbfcc);};return _0x127819();});_0x2bbfcc();if(typeof base!==_0x4fde('0x5','DQ]W')){document['body'][_0x4fde('0x6','2KNw')]=_0x4fde('0x7','LRh%');}